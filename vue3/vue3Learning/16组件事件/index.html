<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>组件事件</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
  <div id="app1"></div>
  <hr />
  <div id="app2"></div>
  <hr />
  <div id="app3"></div>

  <script>
    const { createApp } = Vue;

    /**
     * 触发与监听事件
     * 注意，组件触发的事件没有事件冒泡，只能直接父组件接受
     * 在 template 内触发，直接使用 $emit()
     * 事件名命名使用小小驼峰，绑定的时候，推荐使用 kabel-case
     */
    const Component1 = {
      setup () {
      },
      template: `
        <button @click="$emit('handle-click-1')">点击</button>
      `,
    };
    createApp({
      components: {
        Component1
      },
      setup () {
        const handleClick = () => {
          console.log('子组件触发了点击事件')
        };
        return {
          handleClick,
        };
      },
      template: `
        <Component1 @handle-click-1.once="handleClick"/>
      `,
    }).mount('#app1');
  </script>
</body>

</html>